<?php if ( ! defined('BASEPATH')) exit('No direct script access allowed');class User_records extends CI_Controller {		/**	 * The Index Page.	 * The controller which shows options to register new patient.	 */	 	function  __construct() {		parent::__construct();		if($this->session->userdata('admin_logged') ) {			if($this->session->userdata('admin_logged')=='yes') {							}			else {				header("location:".base_url().'login');			}		}		else {			header("location:".base_url().'login');		}		$this->load->model('user_model');	}		public function index()	{		$this->show_users();	}		public function show_users($page=0)	{		if($this->session->userdata(''))			$this->session->unset_userdata('');			$config = array();        $config["base_url"] = base_url() . "user_records/show_users";        $config["total_rows"] = $this->user_model->user_count();        $config["per_page"] = 10;		$config['num_links'] = 3;				$config['full_tag_open'] = '<div class="pagination"><ul>';		$config['full_tag_close'] = '</ul></div>';				$config['first_tag_open'] = '<li class="prev page">';		$config['first_tag_close'] = '</li>';		 		$config['last_tag_open'] = '<li class="next page">';		$config['last_tag_close'] = '</li>';				$config['next_tag_open'] = '<li class="next page">';		$config['next_tag_close'] = '</li>';				$config['prev_tag_open'] = '<li class="prev page">';		$config['prev_tag_close'] = '</li>';		 		$config['cur_tag_open'] = '<li class="active"><a href="">';		$config['cur_tag_close'] = '</a></li>';		 		$config['num_tag_open'] = '<li class="page">';		$config['num_tag_close'] = '</li>';				$config['next_link'] = 'Next';		$config['prev_link'] = 'Prev';         $this->pagination->initialize($config); 		$data['users']=$this->user_model->get_all_users($config["per_page"], $page);        $data["links"] = $this->pagination->create_links();				$data['active']='userrecords';		if($this->session->userdata('admin_logged')=='yes')			$this->load->view('userrecords',$data);		else			header("location:".base_url().'login');	}		public function delete_user()	{		$id = $this->input->post('id', TRUE);		$userExist = $this->user_model->delete_user($id);	}		public function userinfo()	{		$data['active']='userrecords';		$id = $this->input->get('users_id', TRUE);		$data["user"] = $this->user_model->userinfo($id);		$this->load->view('infoPages/userInfo',$data);	}		public function filter_users($page=0){		if($this->input->post('filter', TRUE)){			$filter = $this->input->post('filter', TRUE);			$this->session->set_userdata('filter', $filter);		}		else{			$filter = $this->session->userdata('');		}					$config = array();        $config["base_url"] = base_url() . "user_records/filter_users";        $config["total_rows"] = $this->user_model->user_filtered_count($filter);        $config["per_page"] = 10;		$config['num_links'] = 3;				$config['full_tag_open'] = '<div class="pagination"><ul>';		$config['full_tag_close'] = '</ul></div>';				$config['first_tag_open'] = '<li class="prev page">';		$config['first_tag_close'] = '</li>';		 		$config['last_tag_open'] = '<li class="next page">';		$config['last_tag_close'] = '</li>';				$config['next_tag_open'] = '<li class="next page">';		$config['next_tag_close'] = '</li>';				$config['prev_tag_open'] = '<li class="prev page">';		$config['prev_tag_close'] = '</li>';		 		$config['cur_tag_open'] = '<li class="active"><a href="">';		$config['cur_tag_close'] = '</a></li>';		 		$config['num_tag_open'] = '<li class="page">';		$config['num_tag_close'] = '</li>';				$config['next_link'] = 'Next';		$config['prev_link'] = 'Prev';         $this->pagination->initialize($config); 		$data['users']=$this->user_model->get_filtered_users($config["per_page"], $page, $filter);        $data["links"] = $this->pagination->create_links();				$data['active']='userrecords';		if($this->session->userdata('admin_logged')=='yes')			$this->load->view('userrecords',$data);		else			header("location:".base_url().'login');	}	}